!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.StateMachineVisualize=n():t.StateMachineVisualize=n()}(this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};return n.m=t,n.c=r,n.i=function(t){return t},n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,r){"use strict";t.exports=function(t,n){var r,e,o;for(r=1;r<arguments.length;r++){e=arguments[r];for(o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}return t}},function(t,n,r){"use strict";function e(t,n){return a(o(t,n))}function o(t,n){n=n||{};var r=o.fetch(t),e=n.name,i=o.rankdir(n.orientation),s=o.states(r,n),a=o.transitions(r,n),f={};return e&&(f.name=e),i&&(f.rankdir=i),s&&s.length>0&&(f.states=s),a&&a.length>0&&(f.transitions=a),f}function i(t){return" "+t+" "}function s(t){return'"'+t+'"'}function a(t){t=t||{};var n,r,e=t.name||"fsm",o=t.states||[],i=t.transitions||[],f=t.rankdir,u=[];for(u.push("digraph "+s(e)+" {"),f&&u.push("  rankdir="+f+";"),n=0,r=o.length;n<r;n++)u.push(a.state(o[n]));for(n=0,r=i.length;n<r;n++)u.push(a.edge(i[n]));return u.push("}"),u.join("\n")}var f=r(0);o.fetch=function(t){return"function"==typeof t?t.prototype._fsm.config:t._fsm.config},o.rankdir=function(t){return"horizontal"===t?"LR":"vertical"===t?"TB":void 0},o.states=function(t,n){var r,e=t.states;return n.init||(r=e.indexOf(t.init.from),e=e.slice(0,r).concat(e.slice(r+1))),e},o.transitions=function(t,n){var r,e,i,s=t.init,a=t.options.transitions||[],f=[];for(n.init&&s.active&&o.transition(s.name,s.from,s.to,s.dot,t,n,f),r=0,e=a.length;r<e;r++)i=t.options.transitions[r],o.transition(i.name,i.from,i.to,i.dot,t,n,f);return f},o.transition=function(t,n,r,e,s,a,u){var c,p,l=s.defaults.wildcard;if(Array.isArray(n))for(c=0,p=n.length;c<p;c++)o.transition(t,n[c],r,e,s,a,u);else if(n===l||void 0===n)for(c=0,p=s.states.length;c<p;c++)o.transition(t,s.states[c],r,e,s,a,u);else r===l||void 0===r?o.transition(t,n,n,e,s,a,u):"function"==typeof r||u.push(f({},{from:n,to:r,label:i(t)},e||{}))},a.state=function(t){return"  "+s(t)+";"},a.edge=function(t){return"  "+s(t.from)+" -> "+s(t.to)+a.edge.attr(t)+";"},a.edge.attr=function(t){var n,r,e,o=Object.keys(t).sort(),i=[];for(n=0,r=o.length;n<r;n++)"from"!==(e=o[n])&&"to"!==e&&i.push(e+"="+s(t[e]));return i.length>0?" [ "+i.join(" ; ")+" ]":""},e.dotcfg=o,e.dotify=a,t.exports=e}])});
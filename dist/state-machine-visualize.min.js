!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("StateMachineVisualize",[],n):"object"==typeof exports?exports.StateMachineVisualize=n():t.StateMachineVisualize=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";t.exports=function(t,n){var e,r,o;for(e=1;e<arguments.length;e++){r=arguments[e];for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}},function(t,n,e){"use strict";function r(t,n){return f(o(t,n))}function o(t,n){n=n||{};var e=o.fetch(t),r=n.name,i=o.rankdir(n.orientation),s=o.states(e,n),f=o.statedefs(e,n),a=o.transitions(e,n),u=e.dotPrefix,c={};return r&&(c.name=r),i&&(c.rankdir=i),s&&s.length>0&&(c.states=s),f&&f.length>0&&(c.statedefs=f),a&&a.length>0&&(c.transitions=a),u&&(c.dotPrefix=u),c}function i(t){return" "+t+" "}function s(t){return'"'+t+'"'}function f(t){t=t||{};var n,e,r=t.name||"fsm",o=t.states||[],i=t.transitions||[],a=t.statedefs,u=t.dotPrefix,c=t.rankdir,d=[];if(d.push("digraph "+s(r)+" {"),c&&d.push("  rankdir="+c+";"),u&&d.push(f.dotPrefix(u)),a)for(n=0,e=a.length;n<e;n++)d.push(f.statedef(a[n]));else for(n=0,e=o.length;n<e;n++)d.push(f.gen(o[n]));for(n=0,e=i.length;n<e;n++)d.push(f.edge(i[n]));return d.push("}"),d.join("\n")}var a=e(0);o.fetch=function(t){return"function"==typeof t?t.prototype._fsm.config:t._fsm.config},o.rankdir=function(t){return"horizontal"===t?"LR":"vertical"===t?"TB":void 0},o.states=function(t,n){var e,r=t.states;return n.init||(e=r.indexOf(t.init.from),r=r.slice(0,e).concat(r.slice(e+1))),r},o.statedefs=function(t,n){return t.options.statedefs},o.transitions=function(t,n){var e,r,i,s=t.init,f=t.options.transitions||[],a=[];for(n.init&&s.active&&o.transition(s.name,s.from,s.to,s.dot,t,n,a),e=0,r=f.length;e<r;e++)i=t.options.transitions[e],o.transition(i.name,i.from,i.to,i.dot,t,n,a);return a},o.transition=function(t,n,e,r,s,f,u){var c,d,l=s.defaults.wildcard;if(Array.isArray(n))for(c=0,d=n.length;c<d;c++)o.transition(t,n[c],e,r,s,f,u);else if(n===l||void 0===n)for(c=0,d=s.states.length;c<d;c++)o.transition(t,s.states[c],e,r,s,f,u);else e===l||void 0===e?o.transition(t,n,n,r,s,f,u):"function"==typeof e||u.push(a({},{from:n,to:e,label:i(t)},r||{}))},f.gen=function(t){return"  "+s(t)+";"},f.statedef=function(t){var n="  "+s(t.name);return t.dot&&(n+=f.gen.attr(t.dot)),n+";"},f.edge=function(t){return"  "+s(t.from)+" -> "+s(t.to)+f.edge.attr(t)+";"},f.dotPrefix=function(t){var n,e,r=[],o=Object.keys(t);for(n=0;n<o.length;n++)e=o[n],r.push("  "+e+" "+f.gen.attr(t[e])+";");return r.join("\n")},f.edge.attr=function(t){var n,e,r,o=Object.keys(t).sort(),i=[];for(n=0,e=o.length;n<e;n++)"from"!==(r=o[n])&&"to"!==r&&i.push(r+"="+s(t[r]));return i.length>0?" [ "+i.join(" ; ")+" ]":""},f.gen.attr=function(t){var n,e,r,o=Object.keys(t).sort(),i=[];for(n=0,e=o.length;n<e;n++)r=o[n],i.push(r+"="+s(t[r]));return i.length>0?" [ "+i.join(", ")+" ]":""},r.dotcfg=o,r.dotify=f,t.exports=r}])});